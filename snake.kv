#:import Factory kivy.factory.Factory


<BackgroundColor@Widget>
    background_color: (1, 1, 1, 1)
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos


<SnakePanel>:
	background_color: (1, 0, 0, 1)
	canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos


<Help@Popup>:

	title: 'Help'
	separator_height: 2

	BoxLayout:
		orientation: 'vertical'
		
		Label:
			text: 'This is snake game by Protectore. Controls is arrow keys. Enjoy!'

		Button:
			size_hint: (1, .2)
			text: 'OK'
			on_release: root.dismiss()


<RootLayout>:

	message_label: message_label
	snake_screen: snake_screen
	score_label: current_score_label
	top_5_label: top_5_label

	BoxLayout:
		orientation: 'vertical'
		padding: 10
		size_hint: (.8, 1)
		
		Label:
			id: message_label
			text: "Here will be messages about something"
			color: (0, 0, 0, 1)
			size_hint: (1, .2)
			font_size: 23

		SnakeScreen:
			id: snake_screen

	BoxLayout:
		orientation: 'vertical'
		padding: 10
		size_hint: (.45, 1)

		Label:
			id: top_5_label
			text: "Top 5 score\n\n1. 0\n\n2. 0\n\n3. 0\n\n4. 0\n\n5. 0"
			color: (0, 0, 0, 1)
			font_size: 17

		Label:
			id: current_score_label
			text: 'Score = 0'
			color: (0, 0, 0, 1)
			size_hint: (1, 0.3)
			font_size: 17

		BoxLayout:
			orientation: 'vertical'
			padding: 20

			BoxLayout:
				size_hint: (1, .5)

				Button:
					text: 'Help'
					on_release: Factory.Help().open()

				Button:
					text: 'Settings'

			BoxLayout:
				orientation: 'vertical'
				
				Button:
					text: "Start"
					background_color: (.2, 1, .3, 1)
					on_release: app.start()
			
				Button:
					text: "Stop"
					background_color: (1, .2, .3, 1)
					on_press: app.stop()